<div  *ngIf="user" class="relative flex flex-col flex-auto min-w-0 overscroll-y-auto overflow-auto h-160">

    <ng-container *ngIf="activities.length; else noActivity">
        <div>

            <ol>

                <ng-container
                    *ngFor="
                        let activity of activities;
                        let i = index;
                        let first = first;
                        let last = last;
                        trackBy: trackByFn
                    "
                >

                    <li class="relative flex py-5">

                        <ng-container>
                            <div
                                class="absolute top-7 left-5 w-0.5 h-full -ml-px bg-gray-300 dark:bg-gray-600"
                            ></div>
                        </ng-container>

                        <div class="relative flex flex-auto">

                            <ng-container
                                *ngIf="activity.icon"

                            >
                                <div

                                    class="flex shrink-0 items-center justify-center w-10 h-10 mr-4 rounded-full bg-gray-400
                                    "

                                >
                                <mat-icon  class="icon-size-5 text-white" [svgIcon]="activity.icon"></mat-icon>


                                </div>
                            </ng-container>


                            <div class="flex flex-col flex-auto items-start break-word">

                                <ng-container *ngIf="activity.description">
                                    <div
                                        [innerHTML]="activity.description | sanitizeHtml"
                                    ></div>
                                </ng-container>
                                <div
                                    class="flex flex-col sm:flex-row sm:items-center mt-2 sm:mt-1 sm:space-x-2 text-md leading-5"
                                >

                                    <div class="text-secondary">
                                        {{
                                            activity.date
                                        }}
                                    </div>

                                    <ng-container
                                        *ngIf="activity.linkedContent"
                                    >
                                        <div class="hidden sm:block">
                                            &bull;
                                        </div>

                                        <ng-container
                                            *ngIf="activity.useRouter"
                                        >
                                            <a
                                                class="cursor-pointer text-primary"
                                                (click)="verDetalle(activity)"
                                            >
                                                {{ activity.linkedContent }}
                                            </a>
                                        </ng-container>

                                        <ng-container
                                            *ngIf="!activity.useRouter"
                                        >
                                            <a
                                                class="cursor-pointer text-primary"
                                                [href]="activity.link"
                                                target="_blank"
                                            >
                                                {{ activity.linkedContent }}
                                            </a>
                                        </ng-container>
                                    </ng-container>
                                </div>

                                <ng-container *ngIf="activity.extraContent">
                                    <div
                                        class="w-full mt-4 py-4 px-5 rounded-lg bg-gray-200 dark:bg-gray-800"
                                        [innerHTML]="activity.extraContent | sanitizeHtml"
                                    ></div>
                                </ng-container>
                            </div>
                        </div>
                    </li>
                </ng-container>
            </ol>
        </div>
    </ng-container>

    <ng-template #noActivity>
        No hay actividad en este momento...
    </ng-template>
</div>
